# [BOJ] 15683 ê°ì‹œ
> **[ë¬¸ì œ](https://www.acmicpc.net/problem/15683)**
> 

![image](https://user-images.githubusercontent.com/80896077/174560420-fc5385ce-7e12-4ff0-947e-b8807e16ec76.png)
![image](https://user-images.githubusercontent.com/80896077/174560459-8fba720f-b898-4fcb-a787-c1296d3be9c8.png)

> **ì½”ë“œ ë¦¬ë·°**
> 

<aside>
ğŸ’¡ **ê¸°ì–µí•  ê²ƒ**

**ìˆœì¡°ë¶€**ë¥¼ ì“°ê¸° ì „, **ì í•©í•œ ì‚¬ìš©ì¸ì§€ ë°˜ë“œì‹œ ìƒê°**í•˜ê³  ì“°ì. **ë¬´ë¶„ë³„í•œ ì‚¬ìš© ê¸ˆì§€**

</aside>

- ì‹¤ìŠµìœ¼ë¡œ ë‚˜ì˜¨ ë¬¸ì  ë°, ì•½ 4ì‹œê°„ì •ë„ í–ˆëŠ”ë° ì½”ë“œê°€ ì—‰ì¼œë²„ë ¤ í¬ê¸° í›„ ì¬ì‹œë„
- ë¬¸ì œ ìš”ì¸ 1) ì ì ˆì¹˜ ì•Šì€ ì¡°í•©ì‚¬ìš© 1
    - cctvë§ˆë‹¤ ë¹„ì¶œ ìˆ˜ ìˆëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ì¡°í•© ì½”ë“œë¥¼ í†µí•´ êµ¬í•˜ëŠ” ì½”ë“œë¥¼ ì§°ëŠ”ë°, ì•Œê³ ë³´ë‹ˆ ì¡°í•©ìœ¼ë¡œ ë‚˜ì˜¬ ìˆ˜ ì—†ëŠ” ëª¨ì–‘ì´ì—ˆë‹¤.
    - ex) cctv 2 = { "02", "13" }, cctv 3 = {"01", "12", "23", "30"}
        
              ì´ë ‡ê²Œ ë‘ cctvëª¨ë‘ 4ê°œ ë°©í–¥ ì¤‘ 2ê°œë¥¼ ê³ ë¥´ëŠ” ê±´ë° 4C2ë¼ í•  ìˆ˜ ì—†ìœ¼ë‹ˆê¹Œ.
        
    - ë³µì¡í•˜ê²Œ ìƒê°í•  í•„ìš” ì—†ì´ ê·¸ëƒ¥ ëª¨ë“  ê²½ìš°ë¥¼ Stringìœ¼ë¡œ ì§ì ‘ ì¨ ë„£ì—ˆë‹¤
        - ë°°ì—´ì„ ë§ì´ ìƒì„±í• ë• ì´ë ‡ê²Œ **Stringìœ¼ë¡œ ê°’ ê´€ë¦¬ í•˜ëŠ” ë²•**ì„ ì¨ë³´ì !
- ë¬¸ì œ ìš”ì¸ 2) `ConcurrentModificationException` ì—ëŸ¬
    - ì²˜ìŒë³´ëŠ” ì—ëŸ¬ì˜€ìŒ. êµ¬ê¸€ë§í•´ë³´ë‹ˆ for eachë¬¸ ì•ˆì˜ ë‚´ìš©ì„ ìˆ˜ì •í•  ë•Œ ë‚˜ëŠ” ì—ëŸ¬ë€ë‹¤
    - ì´ ë¶€ë¶„ì„ ì‹ ê²½ì“°ê³  ê³ ì¹  í•„ìš” ì—†ì´, ê·¸ ì½”ë“œ ìì²´ê°€ ë…¼ë¦¬ì ìœ¼ë¡œ ë§ì§€ ì•Šì•„ ì•„ì˜ˆ ë‚´ìš© ìˆ˜ì •í•˜ë‹ˆ ì•Œì•„ì„œ í•´ê²°ë˜ì—ˆë‹¤
    - ì°¸ê³  ë§í¬ : [https://m.blog.naver.com/tmondev/220393974518](https://m.blog.naver.com/tmondev/220393974518)
- ë¬¸ì œ ìš”ì¸ 3) ì ì ˆì¹˜ ì•Šì€ ì¡°í•©ì‚¬ìš© 2
    - ë”± í•œê°€ì§€ í…Œì¼€ë§Œ ë¬´í•œë£¨í”„ë¥¼ ëŒê¸¸ë˜, ê·¸ê²Œ cctv 5ê°€ ì¤‘ì²©ë˜ì–´ ë“¤ì–´ê°„ ì˜ˆì œë¼ ê·¸ ë¬¸ì  ì¤„ ì•Œê³  ë•…êµ´ íŒ ëŠ”ë° ì•Œê³ ë³´ë‹ˆ **ë˜ë˜ë˜ ìˆœì¡°ë¶€** ê´€ë ¨ ì˜ëª»ëœ í’€ì´ì˜€ë‹¤,,
    - cctvë¥¼ ëª¨ë‘ ëŒë ¤ë´ì•¼ í•˜ëŠ”ë°, ì¡°í•©ìœ¼ë¡œ í•˜ë‚˜ì”© ëŒë¦¬ê³  ìˆì—ˆë˜ ê²ƒ

> **ì œì¶œ ì½”ë“œ**
> 

![image](https://user-images.githubusercontent.com/80896077/174561386-78c1b55b-7924-4380-96ab-42bd42cf4ffd.png)
```java
package gold;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;

public class G15683_monitoring {

	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		
		String[] line = br.readLine().split(" ");
		N = Integer.parseInt(line[0]);
		M = Integer.parseInt(line[1]);
		map = new int[N][M];
		show = new int[N][M];
		cctv = new int[8][2];
		
		for(int n=0; n<N; n++) {
			line = br.readLine().split(" ");
			for(int m=0; m<M; m++) {
				map[n][m] = Integer.parseInt(line[m]);
				if(map[n][m]==0 || map[n][m]==6) continue;
				cctv[cctvCnt][0] = n;
				cctv[cctvCnt++][1] = m;
			}
		}
		monitor(0);
		System.out.println(min);
	}
	
	static int N, M;
	static int[][] map, show, cctv;
	static int cctvCnt=0;
	static int min = Integer.MAX_VALUE;
	static String[][] list = {{}, 
			{ "0", "1", "2", "3" }, { "02", "13" }, 
			{"01", "12", "23", "30"}, {"012", "123", "230", "301"}, {"0123"}};
	
	static int[] di = {-1, 0, 1, 0};
	static int[] dj = {0, 1, 0, -1};
	
	/* cctvë¥¼ ì£¼ì–´ì§„ ë°©í–¥ìœ¼ë¡œ ëŒë ¸ì„ ë•Œ ë³´ì—¬ì§€ëŠ” ë²”ìœ„ ê³„ì‚°
	 * - c : cctv index
	 * - list : cctvê°€ ë¹„ì¶”ëŠ” ë°©í–¥ë“¤
	 * - isPlus : trueì¸ ê²½ìš° ë³´ì—¬ì§€ëŠ” ë²”ìœ„ë¥¼ í‘œì‹œí•˜ê³ , falseì¸ ê²½ìš° í‘œì‹œëœ ê¸°ë¡ì„ ì§€ìš´ë‹¤ (ì›ìƒë³µêµ¬)
	 */
	static void check(int c ,String list, boolean isPlus) {
		for(char ch : list.toCharArray()) {
			int d = ch-'0';
			int i = cctv[c][0];
			int j = cctv[c][1];
			while(true) {
				i += di[d];
				j += dj[d];
				if(i<0 || j<0 || (d%2==0&&i>=N) || (d%2!=0&&j>=M) || map[i][j] == 6) break;
				if(map[i][j] == 0) {
					if(isPlus)	show[i][j]++;
					else show[i][j]--;
				}
			}
		}
		
	}
	
	/* cctvë¥¼ í•˜ë‚˜ì”© ëŒë ¤ê°€ë©° ì‚¬ê°ì§€ëŒ€ ê³„ì‚°í•˜ëŠ” ë©”ì†Œë“œ
	 * - n : ëŒë ¤ë³¼ cctv ë²ˆí˜¸
	 */
	static void monitor(int n) {
		if(n==cctvCnt) {				// ì‚¬ê°ì§€ëŒ€ ê°œìˆ˜ ì„¸ê¸°
			int blind = 0;
			for(int i=0; i<N; i++) {
				for(int j=0; j<M; j++) {
					if(map[i][j]==0 && show[i][j] == 0) blind++; 
				}
			}
			min = Math.min(min, blind);
			return;
		}
		
		int now = map[cctv[n][0]][cctv[n][1]];
		for(String li : list[now]) {	// cctv ëŒë¦´ ìˆ˜ ìˆëŠ” ê²½ìš° ë‹¤ í•´ë³´ê¸°
			check(n, li, true);
			monitor(n+1);
			check(n, li, false);
		}
	}
	
}
```
